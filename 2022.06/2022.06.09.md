
## 题目地址(932. 漂亮数组)

https://leetcode.cn/problems/beautiful-array/

## 题目描述

```
对于某些固定的 N，如果数组 A 是整数 1, 2, ..., N 组成的排列，使得：

对于每个 i < j，都不存在 k 满足 i < k < j 使得 A[k] * 2 = A[i] + A[j]。

那么数组 A 是漂亮数组。

 

给定 N，返回任意漂亮数组 A（保证存在一个）。

 

示例 1：

输入：4
输出：[2,1,4,3]


示例 2：

输入：5
输出：[3,1,2,5,4]

 

提示：

1 <= N <= 1000

 
```

## 前置知识

- 

## 公司

- 暂无

## 思路
1. 让A[i]和A[j]其中一个为奇数，另一个为偶数
2. 两个性质：
    1. 如果数组A为漂亮数组，那么将A中每个元素线性变化(kx+b)，其仍为漂亮数组
    2. 如果数组A和B分别是奇偶性不同的漂亮数组(漂亮数组内部满足条件，两个漂亮数组之间也满足条件，奇+偶！=偶)，那么A和B拼接起来仍为漂亮数组
3. 假设长度为N/2和N-N/2的漂亮数组被计算出来了，那么通过性质1将N/2漂亮数组变换成偶数的漂亮数组，将N-N/2数组变成奇数的漂亮数组。
4. 如何得到长度为N/2和N-N/2的漂亮数组呢？通过分治的方法，将问题规模缩小，直到N==1
## 关键点

-  三个性质

## 代码

- 语言支持：Python3

Python3 Code:

```python

class Solution:
    def beautifulArray(self, n: int) -> List[int]:
        """
        不存在k，满足i<k<j，使得A[k] * 2 = A[i] + A[j]
        """
        @lru_cache(None)
        def dp(n):
            if n == 1:
                return [1]
            ans = []
            # 返回奇数
            for a in dp(n-n//2):
                ans += [a*2-1]
            # 返回偶数
            for b in dp(n//2):
                ans += [b*2]
            return ans 
        return dp(n) 

```


**复杂度分析**

令 n 为数组长度。

- 时间复杂度：$O(nlogn)$
- 空间复杂度：$O(n+logn)$ # 每次重置了ans
